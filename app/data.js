import locationInfoUnit, { locationInfo } from "@/util/locationInfo";
import forecast, { forecastInfo } from "@/util/forecast";

let cardData = [
  {
    title: "ì˜ì—…ì  ì°¾ê¸°",
    contents: "ì§€ë„ë¥¼ í†µí•´ ì£¼ë³€ì˜ ê°€ê¹Œìš´ ì£¼ìœ ì†Œ ì •ë³´ë¥¼ ì•Œë ¤ë“œë ¤ìš”.",
    icon: "ðŸ”Ž",
    url: "/store",
  },
  {
    title: "ì£¼ìœ ì†Œ í˜„í™©",
    contents: "ì£¼ìœ ì†Œë³„ ê°€ê²©, ì—…ì²´ í˜„í™©ì„ ì•Œë ¤ë“œë¦½ë‹ˆë‹¤.",
    icon: "â›½",
    url: "/situation",
  },
  {
    title: "ì‹¤ì‹œê°„ êµí†µ",
    contents: "êµ¬ê°„ë³„ ì‹¤ì‹œê°„ êµí†µ ì •ë³´ë¥¼ ì•Œë ¤ë“œë¦½ë‹ˆë‹¤.",
    icon: "ðŸš¥",
    url: "/traffic",
  },
];

//ì˜ì—…ì†Œ ìœ„ì¹˜ fetchData
let station = await locationInfo();

let positionData = station.map((a, i) => {
  let [position] = [
    {
      title: station[i].unitName,
      latlng: {
        lat: Number(station[i].yValue),
        lng: Number(station[i].xValue),
      },
    },
  ];

  return position;
});

//ì‹¤ì‹œê°„ êµí†µ fetchData
let traffic = await forecastInfo();

//ì˜¤ëŠ˜ ë‚ ì§œ
let today = traffic[0].sdate;
today =
  today.slice(0, 4) +
  "ë…„" +
  today.slice(4, 6) +
  "ì›”" +
  today.slice(6, 8) +
  "ì¼";

let trafficAttributes = [
  "ë‚ ì§œ",
  "ì‹œê°„",
  "ì „êµ­êµí†µëŸ‰",
  "ì§€ë°©ë°©í–¥ êµí†µëŸ‰",
  "ì„œìš¸ë°©í–¥ êµí†µëŸ‰",
  "ì„œìš¸->ëŒ€ì „ ì†Œìš”ì‹œê°„",
  "ì„œìš¸->ëŒ€êµ¬ ì†Œìš”ì‹œê°„",
  "ì„œìš¸->ìš¸ì‚° ì†Œìš”ì‹œê°„",
  "ì„œìš¸->ë¶€ì‚° ì†Œìš”ì‹œê°„",
  "ì„œìš¸->ê´‘ì£¼ ì†Œìš”ì‹œê°„",
  "ì„œìš¸->ëª©í¬ ì†Œìš”ì‹œê°„",
  "ì„œìš¸->ê°•ë¦‰ ì†Œìš”ì‹œê°„",
  "ëŒ€ì „->ì„œìš¸ ì†Œìš”ì‹œê°„",
  "ëŒ€êµ¬->ì„œìš¸ ì†Œìš”ì‹œê°„",
  "ìš¸ì‚°->ì„œìš¸ ì†Œìš”ì‹œê°„",
  "ë¶€ì‚°->ì„œìš¸ ì†Œìš”ì‹œê°„",
  "ê´‘ì£¼->ì„œìš¸ ì†Œìš”ì‹œê°„",
  "ëª©í¬->ì„œìš¸ ì†Œìš”ì‹œê°„",
  "ê°•ë¦‰->ì„œìš¸ ì†Œìš”ì‹œê°„",
  "ë‚¨ì–‘ì£¼->ì–‘ì–‘ ì†Œìš”ì‹œê°„",
  "ì–‘ì–‘->ë‚¨ì–‘ì£¼ ì†Œìš”ì‹œê°„",
  "ì„œìš¸->ëŒ€ì „ ë²„ìŠ¤ ì†Œìš”ì‹œê°„",
  "ì„œìš¸->ëŒ€êµ¬ ë²„ìŠ¤ ì†Œìš”ì‹œê°„",
  "ì„œìš¸->ìš¸ì‚° ë²„ìŠ¤ ì†Œìš”ì‹œê°„",
  "ì„œìš¸->ë¶€ì‚° ë²„ìŠ¤ ì†Œìš”ì‹œê°„",
  "ì„œìš¸->ê´‘ì£¼ ë²„ìŠ¤ ì†Œìš”ì‹œê°„",
  "ì„œìš¸->ëª©í¬ ë²„ìŠ¤ ì†Œìš”ì‹œê°„",
  "ì„œìš¸->ê°•ë¦‰ ë²„ìŠ¤ ì†Œìš”ì‹œê°„",
  "ë‚¨ì–‘ì£¼->ì–‘ì–‘ ë²„ìŠ¤ ì†Œìš”ì‹œê°„",
  "ëŒ€ì „->ì„œìš¸ ë²„ìŠ¤ ì†Œìš”ì‹œê°„",
  "ëŒ€êµ¬->ì„œìš¸ ë²„ìŠ¤ ì†Œìš”ì‹œê°„",
  "ìš¸ì‚°->ì„œìš¸ ë²„ìŠ¤ ì†Œìš”ì‹œê°„",
  "ë¶€ì‚°->ì„œìš¸ ë²„ìŠ¤ ì†Œìš”ì‹œê°„",
  "ê´‘ì£¼->ì„œìš¸ ë²„ìŠ¤ ì†Œìš”ì‹œê°„",
  "ëª©í¬->ì„œìš¸ ë²„ìŠ¤ ì†Œìš”ì‹œê°„",
  "ê°•ë¦‰->ì„œìš¸ ë²„ìŠ¤ ì†Œìš”ì‹œê°„",
  "ì–‘ì–‘->ë‚¨ì–‘ì£¼ ë²„ìŠ¤ ì†Œìš”ì‹œê°„",
];

let trafficData = trafficAttributes.map((attr, i) => {
  return { title: attr, content: traffic[0][Object.keys(traffic[0])[i]] };
});

export { cardData, positionData, today, trafficData };
